<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="interface.css" />
<title>Page title</title>
</head>

<body>

<img id = "ponyIcon" width="0" height="0" src="./Art/Pony RGB.png">

<canvas id="c1" width="100" height="100">
Random Canvas
</canvas>

<script type="text/javascript">
    function setPixel(imageData, x, y, r, g, b, a) {
		index = (x + y * imageData.width) * 4;
		imageData.data[index+0] = r;
		imageData.data[index+1] = g;
		imageData.data[index+2] = b;
		imageData.data[index+3] = a;
	}
	
	element = document.getElementById("c1");
    c = element.getContext("2d");
	
	//Get the image
	imgTest = document.getElementById("ponyIcon");
	imgTest.crossOrigin = "Anonymous";
	
	//Draw the image on the canvas (img, x, y)
	c.drawImage(imgTest, 0, 0);
	
	//read width and height of canvas
	width = element.width;
	height = element.height;
	
	//Get image data
	imageData1 = c.getImageData(0, 0, width, height); //tainted?
	
	//Replaces color values
	for (y = 0; y < height; y++)
	{
		pos = y * width * 4; //4 for 4 ints per pixel
		for (x = 0; x < width; x++)
		{
			r = imageData1.data[pos++];
            g = imageData1.data[pos++];
            b = imageData1.data[pos++];
            a = imageData1.data[pos++];
			if (r > 5)
				setPixel(imageData1, x, y, 0, 255, 0, a);
			else if (g > 5)
				setPixel(imageData1, x, y, 0, 0, 255, a);
			else if (b > 5)
				setPixel(imageData1, x, y, 255, 0, 0, a);
		}
	}
	
	//Put imageData back on canvas?
	c.putImageData(imageData1, 0, 0);
	
	//create a new batch of pixels with same dimensions
	//imageData = c.createImageData(width, height);
	
	<!-- // draw random dots -->
	<!-- for (i = 0; i < 10000; i++) { -->
		<!-- x = Math.random() * width | 0; // |0 to truncate to Int32 -->
		<!-- y = Math.random() * height | 0; -->
		<!-- r = Math.random() * 256 | 0; -->
		<!-- g = Math.random() * 256 | 0; -->
		<!-- b = Math.random() * 256 | 0; -->
		<!-- setPixel(imageData, x, y, r, g, b, 255); // 255 opaque -->
	<!-- } -->

	<!-- // copy the image data back onto the canvas -->
	<!-- c.putImageData(imageData, 0, 0); // at coords 0,0 -->
</script>

<br />
Placeholder: <span id="cookies">0</span>
<br />
Placeholder: <span id="cursors">0</span>
<br />
Placeholder: <span id="cursorCost">0</span>
<br />
Miners: <span id="miner">0</span>
<br />
<div class="button">Placeholder</div>
<br />
<div class="button" onClick="AddMiner()">Add Miner</div>
<br />
<div class="button" onClick="ToggleMiner()">Toggle Miner</div>
<br />
<div class="button" onClick="SetupMineArea()">Mine</div>
<br />

<!-- Mining area -->
<div class="row">
<div>
	<div class="minecell" id="x1y1" onClick="BreakCell(this.id, 0, 1)"></div>
	<div class="minecell" id="x1y2" onClick="BreakCell(this.id, 1, 1)"></div>
	<div class="minecell" id="x1y3" onClick="BreakCell(this.id, 2, 1)"></div>
	<div class="minecell" id="x1y4" onClick="BreakCell(this.id, 3, 1)"></div>
	<div class="minecell" id="x1y5" onClick="BreakCell(this.id, 4, 1)"></div>
</div>
<div>
	<div class="minecell" id="x2y1" onClick="BreakCell(this.id, 5, 1)"></div>
	<div class="minecell" id="x2y2" onClick="BreakCell(this.id, 6, 1)"></div>
	<div class="minecell" id="x2y3" onClick="BreakCell(this.id, 7, 1)"></div>
	<div class="minecell" id="x2y4" onClick="BreakCell(this.id, 8, 1)"></div>
	<div class="minecell" id="x2y5" onClick="BreakCell(this.id, 9, 1)"></div>
</div>
<div>
	<div class="minecell" id="x3y1" onClick="BreakCell(this.id, 10, 1)"></div>
	<div class="minecell" id="x3y2" onClick="BreakCell(this.id, 11, 1)"></div>
	<div class="minecell" id="x3y3" onClick="BreakCell(this.id, 12, 1)"></div>
	<div class="minecell" id="x3y4" onClick="BreakCell(this.id, 13, 1)"></div>
	<div class="minecell" id="x3y5" onClick="BreakCell(this.id, 14, 1)"></div>
</div>
<div>
	<div class="minecell" id="x4y1" onClick="BreakCell(this.id, 15, 1)"></div>
	<div class="minecell" id="x4y2" onClick="BreakCell(this.id, 16, 1)"></div>
	<div class="minecell" id="x4y3" onClick="BreakCell(this.id, 17, 1)"></div>
	<div class="minecell" id="x4y4" onClick="BreakCell(this.id, 18, 1)"></div>
	<div class="minecell" id="x4y5" onClick="BreakCell(this.id, 19, 1)"></div>
</div>
<div>
	<div class="minecell" id="x5y1" onClick="BreakCell(this.id, 20, 1)"></div>
	<div class="minecell" id="x5y2" onClick="BreakCell(this.id, 21, 1)"></div>
	<div class="minecell" id="x5y3" onClick="BreakCell(this.id, 22, 1)"></div>
	<div class="minecell" id="x5y4" onClick="BreakCell(this.id, 23, 1)"></div>
	<div class="minecell" id="x5y5" onClick="BreakCell(this.id, 24, 1)"></div>
</div>
</div>

<script type="text/javascript" src="main.js"></script>
<script type="text/javascript" src="mine.js"></script>
</body>
</html>